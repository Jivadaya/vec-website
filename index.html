<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ISKCON Values For All ‚Äî National Value Education Contest 2026</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --saffron: #ff9933;
            --maroon: #800000;
            --gold: #f7931e;
            --teal: #10b981;
            --blue: #2563eb;
            --muted: #6b7280;
            --bg: #f8f9fa;
            --glass: rgba(255,255,255,0.92);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html, body {
            height: 100%;
            font-family: 'Poppins', sans-serif;
            color: #0f172a;
            background: var(--bg);
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }
        
        a { cursor: pointer; text-decoration: none; }
        
        /* Navigation */
        nav {
            position: sticky;
            top: 0;
            z-index: 1100;
            background: var(--glass);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 18px rgba(0,0,0,0.06);
            border-bottom: 1px solid rgba(15,23,42,0.02);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 12px 18px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .logo {
            display: flex;
            gap: 12px;
            align-items: center;
            font-weight: 700;
        }
        
        .logo img {
            height: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .logo-title {
            font-size: 1.15rem;
            color: var(--maroon);
            font-weight: 800;
        }
        
        .logo-sub {
            font-size: 0.75rem;
            color: var(--saffron);
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        
       /* ==== Responsive Menubar (Always Visible on Mobile) ==== */

.nav-menubar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 16px;
}

.nav-bar {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  justify-content: flex-end;
}

.nav-links {
  display: flex;
  gap: 18px;
  align-items: center;
  padding: 6px 4px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  scroll-snap-type: x proximity;
}

.nav-links::-webkit-scrollbar { height: 6px; }
.nav-links::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.08);
  border-radius: 8px;
}
.nav-links::-webkit-scrollbar-track { background: transparent; }

.nav-links a {
  color: #374151;
  text-decoration: none;
  font-weight: 600;
  padding: 8px 12px;
  border-radius: 8px;
  white-space: nowrap;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: background 0.18s ease, color 0.18s ease, transform 0.12s;
  scroll-snap-align: start;
}

.nav-links a:hover,
.nav-links a:focus {
  color: var(--maroon);
  background: rgba(255,153,51,0.08);
  outline: none;
  transform: translateY(-1px);
}

/* CTA button */
.nav-cta {
  margin-left: 8px;
  padding: 10px 16px;
  border-radius: 999px;
  font-weight: 800;
  white-space: nowrap;
}

@media (min-width: 981px) {
  .nav-links { gap: 25px; }
  .nav-menubar { padding: 12px 20px; }
  .nav-cta .cta-text { display: inline; margin-left: 10px; }
}

/* MOBILE */
@media (max-width: 980px) {

  nav[aria-label="Top navigation"] {
    position: sticky;
    top: 0;
    z-index: 1200;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(6px);
    border-bottom: 1px solid rgba(15,23,42,0.04);
  }

  .nav-menubar {
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
  }

  .logo {
    justify-content: center;
    text-align: center;
  }
  .logo img {
    height: 44px;
  }

  .nav-bar {
    align-items: center;
    gap: 8px;
    width: 100%;
  }

  .nav-links {
    gap: 14px;
    padding: 4px 0;
    width: 100%;
  }

  .nav-links a {
    font-size: 0.95rem;
    padding: 7px 10px;
  }

  .nav-cta {
    margin: 6px auto 0;
    font-size: 0.9rem;
    padding: 8px 14px;
  }

  @media (max-width: 420px) {
    .logo img { height: 40px; }
    .logo-title { font-size: 1rem; }
    .logo-sub { font-size: 0.8rem; }
    .nav-links a { font-size: 0.9rem; }
    .nav-cta .cta-text { display: none; }
  }
}

body { padding-top: 0; }

        /* Hero Section */
        .hero {
            max-width: 1300px;
            margin: 60px auto;
            padding: 20px 18px;
            display: grid;
            grid-template-columns: 1fr 500px;
            gap: 50px;
            align-items: center;
            animation: fadeInUp 0.8s ease-out;
        }
        
        @media (max-width: 980px) {
            .hero {
                grid-template-columns: 1fr;
                gap: 30px;
                padding: 25px 18px;
            }
            .hero-right { 
                position: relative;
                order: 0; 
                margin-bottom:-10px;
                z-index: 5;
        }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .subtitle {
            color: var(--saffron);
            font-weight: 800;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            font-size: 0.9rem;
            animation: slideInLeft 0.6s ease-out;
        }
        
        h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin: 15px 0;
            line-height: 1.15;
            font-weight: 800;
            color: var(--maroon);
            animation: slideInLeft 0.8s ease-out 0.1s both;
        }
        
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .tagline {
            color: #34150d;
            max-width: 70ch;
            font-size: 1.1rem;
            line-height: 1.6;
            animation: slideInLeft 0.8s ease-out 0.2s both;
            font-family: poppins, sans-serif;
        }
        
        .hero-right img {
            width: 120%;
            border-radius: 20px;
            transition: transform 0.4s ease-out;
            animation: float 4s ease-in-out infinite;
            position: relative;
            top: 30px;
            z-index: 4;
        }

@media (max-width: 1024px) {
  .hero-right img {
    top: 18px;
    animation: float 3.5s ease-in-out infinite;
    align-items: center;
    width: 100%;
    height: auto;
  }
  .section-divider-saffron {
    height: 90px;
    margin-top: -60px;
  }
}

@media (max-width: 768px) {
  .hero-right img {
    top: 12px;
    animation: float 3s ease-in-out infinite;
  }
  .section-divider-saffron {
    height: 70px;
    margin-top: -50px;
  }
}

@media (max-width: 480px) {
  .hero-right img {
    top: 8px;
    animation: float 2.8s ease-in-out infinite;
    width: 100%;
  }
  .section-divider-saffron {
    height: 60px;
    margin-top: -40px;
  }
}

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-12px); }
        }
        
        .hero-right:hover img {
            transform: translateY(-50px);
        }
        
        /* Stats */
        .hero-stats {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 30px;
            animation: slideInLeft 0.8s ease-out 0.3s both;
            justify-content: center;
        }
        
        .stat-mini {
            background: var(--glass);
            padding: 20px 25px;
            border-radius: 16px;
            box-shadow: 0 12px 35px rgba(2,6,23,0.05);
            text-align: center;
            border: 1.5px solid rgba(255,153,51,0.15);
            transition: all 0.3s ease;
            min-width: 140px;
            font-size: 1em;
        }
        
        .stat-mini:hover {
            transform: translateY(-6px);
            box-shadow: 0 18px 50px rgba(0,0,0,0.1);
            border-color: var(--saffron);
        }
        
        .stat-mini strong {
            display: block;
            color: var(--saffron);
            font-size: 2em;
            font-weight: 900;
            margin-bottom: 5px;
            width: 90px;
            text-align: center;
            font-variant-numeric: tabular-nums;
        }
        
        .stat-mini .text {
            color: var(--muted);
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        /* Buttons */
        .fancy-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 13px 26px;
            border-radius: 999px;
            font-weight: 700;
            border: 0;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(15,23,42,0.15);
            font-size: 0.95rem;
        }
        
        .fancy-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(15,23,42,0.2);
        }
        
        .fancy-btn:active {
            transform: translateY(-1px);
        }
        
        .fancy-primary {
            background: linear-gradient(135deg, var(--saffron), var(--gold));
            color: #fff;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        
        .fancy-whatsapp {
            background: linear-gradient(135deg, #25D366, #16A34A);
            color: #fff;
        }
        
        .fancy-ghost {
            background: var(--glass);
            border: 2px solid var(--saffron);
            color: var(--saffron);
        }

        .fancy-omr {
            background: linear-gradient(135deg, #fb7185, #e11d48);
            color: #fff;
        }

        .fancy-result {
            background: linear-gradient(135deg, #f97316, #ea580c);
            color: #fff;
        }
        
        /* Quick Links Tiles */
        .quick-wrap {
            max-width: 1200px;
            margin: 50px auto;
            padding: 0 18px;
        }
        
        .quick-wrap h2 {
            font-weight: 800;
            font-size: 1.3rem;
            color: var(--maroon);
            margin-bottom: 25px;
            text-align: center;
            letter-spacing: 0.5px;
        }
        
        .quick-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 18px;
        }
        
        .tile {
            background: var(--glass);
            border-radius: 18px;
            padding: 22px;
            display: flex;
            align-items: center;
            gap: 18px;
            box-shadow: 0 15px 45px rgba(2,6,23,0.06);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1.5px solid rgba(255,153,51,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .tile::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s ease;
        }
        
        .tile:hover::before {
            left: 100%;
        }
        
        .tile:hover {
            transform: translateY(-10px);
            box-shadow: 0 35px 90px rgba(2,6,23,0.15);
            background: linear-gradient(135deg, rgba(255,255,255,0.98), rgba(250,250,250,0.95));
            border-color: var(--saffron);
        }
        
        .tile .icon {
            width: 65px;
            height: 65px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            color: white;
            flex-shrink: 0;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .t-join { background: linear-gradient(135deg, #25D366, #16A34A); }
        .t-register { background: linear-gradient(135deg, #60a5fa, #2563eb); }
        .t-omr { background: linear-gradient(135deg, #fb7185, #e11d48); }
        .t-guide { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .t-results { background: linear-gradient(135deg, #f97316, #ea580c); }
        
        .tile .title {
            font-weight: 700;
            color: var(--maroon);
            font-size: 1rem;
        }
        
        .tile .sub {
            font-size: 0.85rem;
            color: var(--muted);
            margin-top: 4px;
        }
        
        /* Gita Quote Section */
        .gita-quote-section {
            background: linear-gradient(135deg, rgba(255,153,51,0.12), rgba(255,153,51,0.03));
            border-radius: 22px;
            padding: 40px;
            box-shadow: 0 18px 50px rgba(0,0,0,0.08);
            margin: 60px auto;
            max-width: 1200px;
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            gap: 40px;
            align-items: center;
            border: 2px solid rgba(255,153,51,0.15);
            animation: fadeInUp 0.8s ease-out;
        }
        
        @media (max-width: 768px) {
            .gita-quote-section {
                grid-template-columns: 1fr;
                gap: 25px;
                padding: 30px 20px;
            }
        }
        
        .quote-text h3 {
            color: var(--maroon);
            font-weight: 800;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .quote-text blockquote {
            font-size: 1.15rem;
            font-style: italic;
            color: #4b5563;
            border-left: 4px solid var(--saffron);
            padding-left: 20px;
            margin: 20px 0;
            line-height: 1.7;
        }
        
        .quote-text p {
            color: #6b7280;
            line-height: 1.7;
            margin: 15px 0;
        }
        
        .quote-text footer {
            font-size: 0.95rem;
            font-weight: 700;
            color: var(--saffron);
            margin-top: 15px;
        }
        
        .quote-image-wrap {
            text-align: center;
        }
        
        .quote-image-wrap img {
            width: 100%;
            max-width: 300px;
            border-radius: 16px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            transition: transform 0.4s ease;
        }
        
        .quote-image-wrap img:hover {
            transform: scale(1.05) rotate(2deg);
        }
        
        /* Modals */
        .modal-backdrop-custom {
            position: fixed;
            inset: 0;
            background: rgba(2,6,23,0.5);
            backdrop-filter: blur(4px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1400;
            padding: 18px;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-card {
            width: 100%;
            max-width: 580px;
            background: var(--glass);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 35px 100px rgba(2,6,23,0.25);
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.4s ease-out;
            border: 1px solid rgba(255,153,51,0.2);
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-card h4 {
            color: var(--maroon);
            font-weight: 800;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .close-x {
            background: transparent;
            border: 0;
            font-size: 24px;
            cursor: pointer;
            color: var(--muted);
            transition: all 0.3s ease;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-x:hover {
            color: var(--maroon);
            transform: rotate(90deg);
        }
        
        .form-control {
            padding: 12px 14px;
            border-radius: 10px;
            border: 2px solid #e6e9ee;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            width: 100%;
        }
        
        .form-control:focus {
            border-color: var(--saffron);
            box-shadow: 0 0 0 3px rgba(255,153,51,0.1);
            outline: none;
        }
        
        .form-label {
            color: var(--muted);
            font-weight: 700;
            font-size: 0.9rem;
            margin-bottom: 8px;
            display: block;
        }
        
        /* Main Content */
        main {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 18px;
        }
        
        section {
            margin-bottom: 50px;
        }
        
        section h2 {
            font-size: 2.2rem;
            margin-bottom: 15px;
            color: var(--maroon);
            font-weight: 800;
        }
        
        section h3 {
            font-size: 1.8rem;
            margin-bottom: 12px;
            color: var(--maroon);
            font-weight: 800;
        }
        
        .section-desc {
            color: var(--muted);
            font-size: 1.05rem;
            line-height: 1.7;
            margin-bottom: 20px;
        }
        
        /* Video Grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 18px;
            margin-top: 25px;
        }
        
        .video-item {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 15px 45px rgba(2,6,23,0.06);
            transition: all 0.4s ease;
            border: 1px solid rgba(255,153,51,0.1);
        }
        
        .video-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 70px rgba(2,6,23,0.15);
        }
        
        .video-item iframe {
            width: 100%;
            height: 220px;
            border: 0;
            display: block;
        }
        
        /* CTA Section */
        .cta-section {
            background: linear-gradient(135deg, var(--saffron), var(--gold));
            color: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin: 50px 0;
            box-shadow: 0 20px 60px rgba(255,153,51,0.2);
        }
        
        .cta-section h3 {
            color: white;
            font-size: 1.8rem;
            margin-bottom: 12px;
        }
        
        .cta-section p {
            color: rgba(255,255,255,0.95);
            font-size: 1.1rem;
            margin-bottom: 25px;
        }
        
        .cta-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* Footer */
        footer {
            margin-top: 50px;
            padding: 40px 18px;
            background: linear-gradient(135deg, #0b1220, #1a2940);
            color: white;
            text-align: center;
            border-top: 3px solid var(--saffron);
        }
        
        footer a {
            color: rgba(255,255,255,0.9);
            transition: color 0.3s ease;
        }
        
        footer a:hover {
            color: var(--saffron);
        }
        
        footer .footer-title {
            font-weight: 800;
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        .gift-banner {
            background: linear-gradient(90deg,#4facfe 0%,#00f2fe 100%);
            color: white;
            padding: 35px 20px;
            text-align: center;
        }

        .photo-grid img { display:block; width:100%; height:220px; object-fit:cover; }

        .photo-item h4 { margin: 8px 0 6px; color: #2c3e50; }
        .photo-item p { color: #666; margin: 0; }

        .gifts-grid, .syllabus-grid, .solution-grid { max-width: 1200px; margin: 0 auto; }

        @media (max-width: 560px) {
            .hero { grid-template-columns: 1fr; }
            .video-item iframe { height: 180px; }
            .cta-buttons { flex-direction: column; }
            .cta-buttons .fancy-btn { width: 100%; }
            h1 { font-size: 1.8rem; }
            .quick-grid { grid-template-columns: 1fr; }
        }

        .section-divider-saffron {
            width: 100%;
            height: 110px;
            margin-top: -70px;
            position: relative;
            z-index: 6;
        }

        .section-divider-saffron svg {
            width: 100%;
            height: 100%;
            display: block;
        }

        .hero {
            position: relative;
            z-index: 5;
        }

        /* üî• Floating 3-Button Dock (Mobile) */
        .fixed-action-dock {
            position: fixed;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1350;
            display: flex;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(15,23,42,0.96);
            border-radius: 999px;
            box-shadow: 0 18px 50px rgba(0,0,0,0.35);
            backdrop-filter: blur(10px);
            animation: dockSlideUp 0.4s ease-out;
        }

        @keyframes dockSlideUp {
            from { opacity: 0; transform: translate(-50%, 20px); }
            to { opacity: 1; transform: translate(-50%, 0); }
        }

        .dock-btn {
            border: none;
            border-radius: 999px;
            padding: 8px 12px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            color: #e5e7eb;
            background: transparent;
            transition: background 0.2s ease, transform 0.15s ease;
            white-space: nowrap;
        }

        .dock-btn i {
            font-size: 1rem;
        }

        .dock-btn:hover {
            background: rgba(148,163,184,0.25);
            transform: translateY(-1px);
        }

        .dock-wa span { color: #bbf7d0; }
        .dock-omr span { color: #fecaca; }
        .dock-result span { color: #fed7aa; }

        @media (min-width: 992px) {
            .fixed-action-dock {
                display: none;
            }
        }

    </style>
</head>
<body>
    <nav aria-label="Top navigation">
      <div class="nav-container nav-menubar">
        <div class="logo">
          <img src="https://i.ibb.co/DfVR6KX8/iskcon-logo.png" alt="ISKCON logo">
          <div>
            <div class="logo-title">ISKCON Values</div>
            <div class="logo-sub">National VEC 2025-26</div>
          </div>
        </div>

        <div class="nav-bar" role="navigation" aria-label="Primary">
          <div class="nav-links" role="menubar" aria-label="Main menu">
            <a role="menuitem" href="#quick">Quick Links</a>
            <a role="menuitem" href="#gita-quote">Gita Focus</a>
            <a role="menuitem" href="#impact">Impact</a>
            <a role="menuitem" href="#videos">Videos</a>
            <a role="menuitem" href="#gifts">Gifts</a>
          </div>

          <!-- <a href="https://vec.jivadaya.org/" target="_blank" class="fancy-btn fancy-primary nav-cta" aria-label="Register Now">
            <i class="fa-solid fa-pencil" aria-hidden="true"></i>
            <span class="cta-text">Pay and Get Your Kit</span>
          </a> -->
          <div class="tile" id="tile-omr" onclick="openActionModal('omr')">
              <div class="icon t-omr">
                  <i class="fa-regular fa-file-lines"></i>
              </div>
              <div>
                  <div class="title">OMR Submission</div>
                  <!-- <div class="sub">Active: 26 Jan - 31 Jan 2026</div> -->
              </div>
          </div>
        </div>
      </div>
    </nav>

    <section class="hero full-bleed-hero">
        <div class="hero-left">
            <div class="subtitle">A Pan-India Initiative</div>
            <h1>National Value Education Contest <span style="color:var(--saffron)">2026</span></h1>
            <p class="tagline">Empowering students across India with timeless wisdom from the <strong>Bhagavad Gita</strong>. Join the largest contest for character building and ethical clarity.</p>
           <div class="hero-stats">
              <div class="stat-mini">
                <strong><span class="count" data-target="1350000">0</span></strong>+
                <div class="text">Students Impacted</div>
              </div>
              <div class="stat-mini">
                <strong><span class="count" data-target="4200">0</span></strong>+
                <div class="text">Schools</div>
              </div>
              <div class="stat-mini">
                <strong><span class="count" data-target="14">0</span></strong>+
                <div class="text">Years Running</div>
              </div>
            </div>

            <div style="margin-top:30px;display:flex;flex-wrap:wrap;gap:15px">
                <button class="fancy-btn fancy-whatsapp" id="heroWhatsapp" onclick="openActionModal('whatsapp')">
                    <i class="fa-brands fa-whatsapp"></i> Join District Group
                </button>
                <button class="fancy-btn fancy-omr" onclick="openActionModal('omr')">
                    <i class="fa-regular fa-file-lines"></i> OMR Submission
                </button>
                <button class="fancy-btn fancy-result" onclick="openActionModal('result')">
                    <i class="fa-solid fa-award"></i> Check Results
                </button>
            </div>
        </div>
        <div class="hero-right" aria-hidden="true">
            <img src="/images/front page.png" alt="Students studying">
        </div>
    </section>

    <div class="section-divider-saffron">
        <svg viewBox="0 0 1440 140" preserveAspectRatio="none">
            <path d="M0,40 C300,120 1100,-20 1440,80 L1440,0 L0,0 Z" fill="#ff9933"></path>
        </svg>
    </div>

    <div class="quick-wrap" id="quick">
        <h2><i class="fa-solid fa-star"></i> Essential Links & Actions</h2>
        <div class="quick-grid">
            <div class="tile" id="tile-join" onclick="openActionModal('whatsapp')">
                <div class="icon t-join"><i class="fa-brands fa-whatsapp"></i></div>
                <div>
                    <div class="title">Join WhatsApp Group</div>
                    <div class="sub">State & District Updates</div>
                </div>
            </div>
            <!-- <div class="tile" id="tile-register" onclick="window.open('https://vec.jivadaya.org/','_blank')">
                <div class="icon t-register"><i class="fa-solid fa-user-plus"></i></div>
                <div>
                    <div class="title">Pay and Get Your Kit</div>
                    <div class="sub">Get Your Kit</div>
                </div>
            </div> -->
            <div class="tile" id="tile-omr" onclick="openActionModal('omr')">
                <div class="icon t-omr"><i class="fa-regular fa-file-lines"></i></div>
                <div>
                    <div class="title">OMR Submission</div>
                    <!-- <div class="sub">26 Jan - 31 Jan 2026</div> -->
                </div>
            </div>
            <div class="tile" id="tile-guide">
                <div class="icon t-guide"><i class="fa-solid fa-book-open"></i></div>
                <div>
                    <div class="title">Study Guide</div>
                    <div class="sub">Syllabus & Instructions</div>
                </div>
            </div>
            <div class="tile" id="tile-results" onclick="openActionModal('result')">
                <div class="icon t-results"><i class="fa-solid fa-award"></i></div>
                <div>
                    <div class="title">Check Results</div>
                    <div class="sub">14th February 2026</div>
                </div>
            </div>
        </div>
    </div>

    <!-- WhatsApp Join Section (inline dropdown) -->
    <section id="whatsapp-section" style="padding: 60px 20px; background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);">
      <div class="container" style="text-align: center; color: white;">
        <h2 style="font-size: 2.5em; margin-bottom: 20px;">Join Your District's WhatsApp Group</h2>
        <p style="font-size: 1.2em; margin-bottom: 40px; opacity: 0.9;">Get updates, study materials, and connect with fellow participants</p>

        <div style="max-width: 600px; margin: 0 auto; background: white; padding: 40px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.2);">
          <h3 style="color: #128C7E; margin-bottom: 30px; font-size: 1.8em;">Select Your State & District</h3>

          <div style="margin-bottom: 25px;">
            <select id="wa_stateSelect" style="width: 100%; padding: 15px; font-size: 1.1em; border: 2px solid #ddd; border-radius: 10px; margin-bottom: 20px;">
              <option value="">-- Select State --</option>
            </select>

            <select id="wa_districtSelect" style="width: 100%; padding: 15px; font-size: 1.1em; border: 2px solid #ddd; border-radius: 10px;">
              <option value="">-- Select District --</option>
            </select>
          </div>

          <a id="wa_openLink" class="btn-primary" style="display: inline-block; margin-top: 20px; background: #25D366; color: white; padding: 12px 20px; border-radius: 999px; font-weight: 600;">
            üí¨ Open WhatsApp Group
          </a>
        </div>
      </div>
    </section>

    <!-- Results CTA (now opens modal for state/district based result link) -->
    <section id="results" style=" background: #f8f9fa;">
      <div class="container" style="text-align: center;">
        <div style="max-width: 500px; margin: 0 auto; background: white; padding: 50px 40px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.1);">
          <button id="checkResultsBtn" style="width: 100%; background: linear-gradient(135deg, #ff6b35, #f7931e); color: white; padding: 18px; font-size: 1.2em; font-weight: bold; border: none; border-radius: 50px; cursor: pointer; transition: all 0.3s;">
            üèÜ Check Results (Select State & District)
          </button>
        </div>

        <p style="margin-top: 30px; color: #7f8c8d;">Results for VEC 2025-26 will be announced soon</p>
      </div>
    </section>

    <div class="gift-banner" style="margin: 30px 0;">
      <div class="gift-content">
        <h3 style="font-size:1.9em; margin-bottom:15px;">üéÅ Every Participant Receives</h3>
        <p style="font-size:1.15em; max-width:1000px; margin:0 auto; line-height:1.8;">
          Complete Bhagavad Gita (All Languages) ‚Ä¢ VEC Booklet & Question Bank ‚Ä¢ Practice OMR Sheets ‚Ä¢ Calendar ‚Ä¢ Certificate e-signed by Former President Pranab Mukherjee ‚Ä¢ Flair Pens & Many More Gifts!
        </p>
      </div>
    </div>

    <main>
        <section id="about">
            <h2>About the Value Education Contest</h2>
            <p class="section-desc"><strong>ISKCON's "Values For All"</strong> is a nationwide initiative dedicated to instilling core ethical and moral values in young minds through the timeless teachings of the Bhagavad Gita. The VEC is an opportunity for students to not just compete, but to truly connect with profound spiritual wisdom and transform their lives.</p>
            <p class="section-desc">The contest is open for <strong>individual registrations</strong> across various states and cities in India, encouraging independent learning and personal growth.</p>
        </section>

        <!-- Photo Gallery -->
        <section style="padding: 80px 20px; background: #f8f9fa;">
          <div class="container">
            <h2 style="text-align:center; font-size:2.8em; color:#2c3e50; margin-bottom:20px;">üì∏ VEC in Action</h2>
            <p style="text-align:center; font-size:1.2em; color:#7f8c8d; margin-bottom:60px;">Moments from our award ceremonies and events across India</p>

            <div class="photo-grid" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:18px;">
              <div class="photo-item" style="background:white; border-radius:12px; overflow:hidden; box-shadow:0 8px 30px rgba(0,0,0,0.08);">
                <!-- <img src="/images/World‚Äôs biggest Value Education Contest(210 x 297 mm).jpg" alt="Award Ceremony" style="width:100%;"> -->
                <div style="padding:14px;"><h4>Award Ceremony</h4><p>Celebrating excellence</p></div>
              </div>
              <div class="photo-item" style="background:white; border-radius:12px; overflow:hidden; box-shadow:0 8px 30px rgba(0,0,0,0.08);">
                <!-- <img src="/images/page no 4-5 (1).jpg" alt="Student Winners" style="width:100%;"> -->
                <div style="padding:14px;"><h4>Student Winners</h4><p>Young achievers</p></div>
              </div>
              <div class="photo-item" style="background:white; border-radius:12px; overflow:hidden; box-shadow:0 8px 30px rgba(0,0,0,0.08);">
                <!-- <img src="/images/mass.jpg" alt="Mass Participation" style="width:100%;"> -->
                <div style="padding:14px;"><h4>Mass Participation</h4><p>Thousands learning together</p></div>
              </div>
            </div>
          </div>
        </section>

        <!-- Gifts & Prizes -->
        <section class="gifts-section" id="gifts" style="padding:80px 20px; background:#f8f9fa;">
          <div class="container">
            <h2 class="section-title" style="text-align:center; font-size:2.8em; color:#2c3e50; margin-bottom:20px;">Gifts & Recognition</h2>
            <p class="section-subtitle" style="text-align:center; font-size:1.2em; color:#7f8c8d; margin-bottom:60px;">Every participant is a winner with valuable gifts and learning materials</p>

            <div class="gifts-grid" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:30px; margin-top:50px;">
              <div class="gift-item" style="background:white;padding:30px;border-radius:12px;text-align:center;box-shadow:0 5px 20px rgba(0,0,0,0.08);">
                <div class="gift-icon" style="font-size:3em;margin-bottom:15px;">üìñ</div>
                <h4 style="color:#ff6b35;margin-bottom:10px;">Complete Bhagavad Gita</h4>
                <p>Available in all languages</p>
              </div>
              <div class="gift-item" style="background:white;padding:30px;border-radius:12px;text-align:center;box-shadow:0 5px 20px rgba(0,0,0,0.08);">
                <div class="gift-icon" style="font-size:3em;margin-bottom:15px;">üìö</div>
                <h4 style="color:#ff6b35;margin-bottom:10px;">Study Material</h4>
                <p>VEC Booklet & Question Bank</p>
              </div>
              <div class="gift-item" style="background:white;padding:30px;border-radius:12px;text-align:center;box-shadow:0 5px 20px rgba(0,0,0,0.08);">
                <div class="gift-icon" style="font-size:3em;margin-bottom:15px;">üèÜ</div>
                <h4 style="color:#ff6b35;margin-bottom:10px;">Certificate</h4>
                <p>E-signed by Former President</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Core Values -->
        <section style="padding:80px 20px; background:#fff;">
          <div class="container">
            <h2 class="section-title" style="text-align:center; font-size:2.8em; color:#2c3e50; margin-bottom:20px;">Core Values Covered</h2>
            <p class="section-subtitle" style="text-align:center; font-size:1.2em; color:#7f8c8d; margin-bottom:40px;">Essential virtues for character building and holistic development</p>
            <div class="syllabus-grid" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:25px; margin-top:50px;">
              <div class="syllabus-item" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; padding:25px; border-radius:12px; text-align:center;">Cleanliness</div>
              <div class="syllabus-item" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; padding:25px; border-radius:12px; text-align:center;">Forgiveness</div>
              <div class="syllabus-item" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; padding:25px; border-radius:12px; text-align:center;">Tolerance</div>
              <div class="syllabus-item" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; padding:25px; border-radius:12px; text-align:center;">Generosity</div>
              <div class="syllabus-item" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; padding:25px; border-radius:12px; text-align:center;">Concentration</div>
              <div class="syllabus-item" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; padding:25px; border-radius:12px; text-align:center;">Self-Confidence</div>
            </div>
          </div>
        </section>

        <!-- Solution / Process -->
        <section style="padding:80px 20px; background:#f8f9fa;">
          <div class="container">
            <h2 class="section-title" style="text-align:center; font-size:2.8em; color:#2c3e50; margin-bottom:20px;">Our Solution Framework</h2>
            <p class="section-subtitle" style="text-align:center; font-size:1.2em; color:#7f8c8d; margin-bottom:40px;">How VEC builds character ‚Äî step by step</p>
            <div class="solution-grid" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:35px; margin-top:60px;">
              <div class="solution-card" style="background:white;padding:35px 30px;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.08);text-align:center;border-top:4px solid #ff6b35;">
                <div class="solution-number" style="width:60px;height:60px;background:linear-gradient(135deg,#ff6b35,#f7931e);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;">1</div>
                <h3 style="color:#2c3e50;font-size:1.6em;margin-bottom:15px;">Awareness</h3>
                <p>Introduce values through stories, Gita lessons and activities</p>
              </div>
              <div class="solution-card" style="background:white;padding:35px 30px;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.08);text-align:center;border-top:4px solid #ff6b35;">
                <div class="solution-number" style="width:60px;height:60px;background:linear-gradient(135deg,#ff6b35,#f7931e);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;">2</div>
                <h3 style="color:#2c3e50;font-size:1.6em;margin-bottom:15px;">Practice</h3>
                <p>Practice through classroom activities and roleplay</p>
              </div>
            </div>
          </div>
        </section>

        <hr style="margin:50px 0;border:none;height:2px;background:linear-gradient(to right, transparent, var(--saffron), transparent)">

        <section id="videos">
            <h3><i class="fa-solid fa-video"></i> Video Gallery & Testimonials</h3>
            <p class="section-desc">A glimpse into the VEC experience, success stories, and testimonials from students, parents, and educators.</p>
            <div class="video-grid">
                <div class="video-item">
                    <iframe src="https://www.youtube-nocookie.com/embed/3uWc5Bl3Gj0" title="VEC Experience 1" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
                </div>
                <div class="video-item">
                    <iframe src="https://www.youtube-nocookie.com/embed/pwFhgRDQus0" title="VEC Experience 2" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
                </div>
            </div>
        </section>
    </main>

    <!-- üîÅ Unified Modal for WhatsApp / OMR / Results -->
    <div id="modalBackdrop" class="modal-backdrop-custom" aria-hidden="true">
        <div class="modal-card" role="dialog" aria-modal="true">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
                <h4>
                    <i id="modalTitleIcon" class="fa-brands fa-whatsapp" style="margin-right:4px;color:#25D366;"></i>
                    <span id="modalTitleText">Join WhatsApp Group</span>
                </h4>
                <button class="close-x" id="closeModal" aria-label="Close modal">&times;</button>
            </div>
            <p class="section-desc" id="modalDescription">
                Select your state and district to join the official WhatsApp group for live updates and announcements.
            </p>
            <div style="display:flex;flex-direction:column;gap:16px;margin-top:20px">
                <div>
                    <label class="form-label">Select State</label>
                    <select id="modal_stateSelect" class="form-control" required></select>
                </div>
                <div>
                    <label class="form-label">Select District / City</label>
                    <select id="modal_districtSelect" class="form-control" required></select>
                </div>
                <button id="openActionBtn" class="fancy-btn fancy-whatsapp" disabled style="width:100%;justify-content:center;padding:14px;margin-top:10px">
                    <i id="modalBtnIcon" class="fa-brands fa-whatsapp"></i>
                    <span id="modalBtnText">Open WhatsApp Group</span>
                </button>
            </div>
            <p id="modalHint" style="color:var(--muted);font-size:0.85rem;margin-top:15px;text-align:center">
                ‚ö†Ô∏è Groups may be full during peak times. Try again later if full.
            </p>
        </div>
    </div>

    <!-- üìå Floating dock with 3 main actions -->
    <div class="fixed-action-dock" aria-label="Quick actions">
        <button class="dock-btn dock-wa" onclick="openActionModal('whatsapp')">
            <i class="fa-brands fa-whatsapp"></i>
            <span>WhatsApp Group</span>
        </button>
        <button class="dock-btn dock-omr" onclick="openActionModal('omr')">
            <i class="fa-regular fa-file-lines"></i>
            <span>OMR Submission</span>
        </button>
        <button class="dock-btn dock-result" onclick="openActionModal('result')">
            <i class="fa-solid fa-award"></i>
            <span>Check Results</span>
        </button>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-title">ISKCON Values ‚Äî National VEC 2025-26</div>
            <p>Connecting students with timeless wisdom from the Bhagavad Gita.</p>
            <p style="opacity:0.85;margin-top:8px;">&copy; <span id="year"></span> ISKCON Values</p>
        </div>
    </footer>

    <script>
      // ---------- Modal show/hide ----------
      function showModal(){
        const mb = document.getElementById('modalBackdrop');
        mb.style.display = 'flex';
        mb.setAttribute('aria-hidden','false');
      }

      function closeModalFn(){
        const mb = document.getElementById('modalBackdrop');
        mb.style.display = 'none';
        mb.setAttribute('aria-hidden','true');
      }

      document.getElementById('closeModal').addEventListener('click', closeModalFn);
      document.getElementById('modalBackdrop').addEventListener('click', function(e){
        if(e.target === this) closeModalFn();
      });

      document.getElementById('year').innerText = new Date().getFullYear();

      // --------- Animated Counters ----------
      document.addEventListener("DOMContentLoaded", () => {
        const counters = document.querySelectorAll(".count");

        const easeOutCubic = t => 1 - Math.pow(1 - t, 3);

        const animateCount = (el) => {
          const target = +el.getAttribute("data-target");
          const duration = 2000;
          const startTime = performance.now();

          const step = (now) => {
            const elapsed = now - startTime;
            const progress = Math.min(elapsed / duration, 1);
            const eased = easeOutCubic(progress);
            const value = Math.floor(eased * target);
            el.textContent = value.toLocaleString();

            if (progress < 1) requestAnimationFrame(step);
            else el.textContent = target.toLocaleString();
          };

          requestAnimationFrame(step);
        };

        const observer = new IntersectionObserver((entries, obs) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              animateCount(entry.target);
              obs.unobserve(entry.target);
            }
          });
        }, { threshold: 0.3 });

        counters.forEach(c => observer.observe(c));
      });

      // --------- GLOBAL: current action (whatsapp / omr / result) ----------
      let currentAction = 'whatsapp';
      let whatsappGroups = {}; // state -> district -> { whatsapp, omr, result }

      const ACTION_CONFIG = {
        whatsapp: {
          title: 'Join WhatsApp Group',
          description: 'Select your state and district to join the official WhatsApp group for live updates and announcements.',
          btnText: 'Open WhatsApp Group',
          iconClass: 'fa-brands fa-whatsapp',
          btnClass: 'fancy-whatsapp',
          hint: '‚ö†Ô∏è Groups may be full during peak times. Try again later if full.'
        },
        omr: {
          title: 'OMR Sheet Submission',
          description: 'Select your state and district to open the correct OMR submission link.',
          btnText: 'Open OMR Submission',
          iconClass: 'fa-regular fa-file-lines',
          btnClass: 'fancy-omr',
          hint: 'üìÑ Please upload your OMR sheet as per instructions shared in your state group.'
        },
        result: {
          title: 'Check Contest Results',
          description: 'Select your state and district to check results and download certificates (if available).',
          btnText: 'Open Results Page',
          iconClass: 'fa-solid fa-award',
          btnClass: 'fancy-result',
          hint: 'üèÜ Results links will be enabled as they are published by each state.'
        }
      };

      function applyActionUI(action) {
        const cfg = ACTION_CONFIG[action] || ACTION_CONFIG.whatsapp;
        const titleIcon = document.getElementById('modalTitleIcon');
        const titleText = document.getElementById('modalTitleText');
        const desc = document.getElementById('modalDescription');
        const hint = document.getElementById('modalHint');
        const btn = document.getElementById('openActionBtn');
        const btnIcon = document.getElementById('modalBtnIcon');
        const btnText = document.getElementById('modalBtnText');

        // update icon
        titleIcon.className = cfg.iconClass;
        // color tweak
        if (action === 'whatsapp') titleIcon.style.color = '#25D366';
        else if (action === 'omr') titleIcon.style.color = '#e11d48';
        else titleIcon.style.color = '#ea580c';

        // text
        titleText.textContent = cfg.title;
        desc.textContent = cfg.description;
        hint.textContent = cfg.hint;

        // button styles
        btn.className = 'fancy-btn ' + cfg.btnClass;
        btn.disabled = true;

        btnIcon.className = cfg.iconClass;
        btnText.textContent = cfg.btnText;
      }

      function openActionModal(action) {
        currentAction = action || 'whatsapp';
        applyActionUI(currentAction);
        updateModalButtonLink(); // set enabled/disabled based on current selection
        showModal();
      }

      // ---------- Load Google Sheet CSV and init data ----------
      async function loadWhatsAppJSONAndInit() {
        const url = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS25FQotsgdlN-k6xCO-gczCkMluhjMl59EC7rGVhaOGCM1WF4tC21KVXB7kxmneUVXTGWdrAlc1Hlh/pub?output=csv';
        let arr = [];
        try {
          const resp = await fetch(url + '&t=' + Date.now(), { cache: 'no-store' });
          if (!resp.ok) throw new Error('HTTP ' + resp.status);
          const text = await resp.text();
          arr = parseCSV(text);
          if (!Array.isArray(arr)) throw new Error('Parsed data is not an array');
        } catch (err) {
          console.error('Could not load WhatsApp data ‚Äî using fallback:', err);
          arr = [
            { "state": "Maharashtra", "district": "Pune", "whatsapp_link": "https://chat.whatsapp.com/PUNE_LINK", "omr_link": "https://example.com/pune-omr", "result_link": "https://example.com/pune-result" },
            { "state": "Karnataka", "district": "Bangalore", "whatsapp_link": "https://chat.whatsapp.com/BANGALORE_LINK", "omr_link": "https://example.com/blore-omr", "result_link": "https://example.com/blore-result" }
          ];
        }

        // Build nested structure: state -> district -> { whatsapp, omr, result }
        whatsappGroups = arr.reduce((acc, item) => {
          if (!item || !item.state || !item.district) return acc;
          const st = String(item.state).trim();
          const dt = String(item.district).trim();
          if (!acc[st]) acc[st] = {};
          acc[st][dt] = {
            whatsapp: item.whatsapp_link ? String(item.whatsapp_link).trim() : '',
            omr: item.omr_link ? String(item.omr_link).trim() : '',
            result: item.result_link ? String(item.result_link).trim() : ''
          };
          return acc;
        }, {});

        initWhatsAppUI(whatsappGroups);
      }

      function parseCSV(text) {
        const lines = text.trim().split('\n');
        const headers = lines.shift().split(',').map(h => h.trim());
        return lines.map(line => {
          const values = line.split(',').map(v => v.trim());
          const obj = {};
          headers.forEach((h, i) => obj[h] = values[i]);
          return obj;
        });
      }

      function initWhatsAppUI(groups) {
        const wa_state = document.getElementById('wa_stateSelect');
        const wa_district = document.getElementById('wa_districtSelect');
        const modal_state = document.getElementById('modal_stateSelect');
        const modal_district = document.getElementById('modal_districtSelect');
        const openBtnInline = document.getElementById('wa_openLink');
        const openBtnModal = document.getElementById('openActionBtn');

        function escapeHtml(s){ return String(s).replace(/[&<>"']/g, ch => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[ch])); }

        function buildStateOptions(sel) {
          const states = Object.keys(groups).sort();
          sel.innerHTML = `<option value="">-- Select State --</option>` +
            states.map(s => `<option value="${escapeHtml(s)}">${escapeHtml(s)}</option>`).join('');
        }

        function buildDistrictOptionsFor(sel, state) {
          const districts = groups[state] ? Object.keys(groups[state]).sort() : [];
          sel.innerHTML = `<option value="">-- Select District --</option>` +
            districts.map(d => `<option value="${escapeHtml(d)}">${escapeHtml(d)}</option>`).join('');
        }

        function getLinkFor(state, district, action) {
          if (!state || !district) return '';
          const stObj = groups[state];
          if (!stObj) return '';
          const entry = stObj[district];
          if (!entry) return '';
          if (action === 'omr') return entry.omr;
          if (action === 'result') return entry.result;
          return entry.whatsapp;
        }

        buildStateOptions(wa_state);
        buildStateOptions(modal_state);

        // Inline: state -> district; always for WhatsApp
        wa_state.addEventListener('change', function(){
          const st = this.value;
          buildDistrictOptionsFor(wa_district, st);
          modal_state.value = st;
          modal_district.innerHTML = wa_district.innerHTML;
          openBtnInline.href = '#';
          openBtnInline.onclick = null;
        });

        wa_district.addEventListener('change', function(){
          const st = wa_state.value;
          const dt = this.value;
          modal_state.value = st;
          modal_district.value = dt;
          const link = getLinkFor(st, dt, 'whatsapp');
          if (link) {
            openBtnInline.href = link;
            openBtnInline.onclick = () => { window.open(link, '_blank'); return false; };
          } else {
            openBtnInline.href = '#';
            openBtnInline.onclick = null;
          }
        });

        // Modal: state -> districts
        modal_state.addEventListener('change', function(){
          const st = this.value;
          buildDistrictOptionsFor(modal_district, st);
          wa_state.value = st;
          wa_district.innerHTML = modal_district.innerHTML;
          openBtnModal.disabled = true;
          openBtnModal.onclick = null;
        });

        modal_district.addEventListener('change', function(){
          syncInlineFromModal();
          updateModalButtonLink();
        });

        function syncInlineFromModal() {
          const st = modal_state.value;
          const dt = modal_district.value;
          wa_state.value = st;
          buildDistrictOptionsFor(wa_district, st);
          wa_district.value = dt;
        }

        // compute link and update modal button
        window.updateModalButtonLink = function(){
          const st = modal_state.value;
          const dt = modal_district.value;
          const btn = document.getElementById('openActionBtn');
          const link = getLinkFor(st, dt, currentAction);
          if (link) {
            btn.disabled = false;
            btn.onclick = () => { window.open(link, '_blank'); return false; };
          } else {
            btn.disabled = true;
            btn.onclick = null;
          }
        };

        // ensure inline button doesn't do anything if no link
        openBtnInline.addEventListener('click', function(e){
          if (!this.href || this.href === '#') e.preventDefault();
        });
      }

      document.addEventListener('DOMContentLoaded', loadWhatsAppJSONAndInit);

      // Results section CTA: open modal in "result" mode
      document.getElementById('checkResultsBtn').addEventListener('click', function(){
        openActionModal('result');
      });
    </script>
</body>
</html>
