<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ISKCON Values For All ‚Äî National Value Education Contest 2026</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --primary: #ff9933;
            --primary-light: #ffb366;
            --maroon: #7c2d12;
            --accent: #10b981;
            --blue: #3b82f6;
            --text: #1e293b;
            --text-light: #64748b;
            --bg: #ffffff;
            --bg-subtle: #f8fafc;
            --border: #e2e8f0;
            --shadow: rgba(15, 23, 42, 0.08);
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        html, body {
            height: 100%;
            font-family: 'Inter', -apple-system, sans-serif;
            color: var(--text);
            background: var(--bg);
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
            line-height: 1.6;
        }
        
        a { cursor: pointer; text-decoration: none; }
        
        /* Navigation */
        nav {
            position: sticky;
            top: 0;
            z-index: 1100;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(12px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border-bottom: 1px solid var(--border);
        }
        
        .nav-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            /* flex-wrap: wrap; */
            gap: 16px;
        }
        
        .logo {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .logo img {
            height: 42px;
            border-radius: 8px;
        }
        
        .logo-title {
            font-size: 1.1rem;
            color: var(--maroon);
            font-weight: 700;
            letter-spacing: -0.02em;
        }
        
        .logo-sub {
            font-size: 0.75rem;
            color: var(--text-light);
            font-weight: 600;
        }
        
        .nav-menubar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding: 0;
        }

        .nav-bar {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
            justify-content: flex-end;
        }

        .nav-links {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            white-space: nowrap;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .nav-links a:hover {
            color: var(--maroon);
            background: var(--bg-subtle);
        }

        .nav-cta {
            margin-left: 8px;
            padding: 10px 18px;
            border-radius: 8px;
            font-weight: 600;
            white-space: nowrap;
            font-size: 0.9rem;
        }

        @media (max-width: 980px) {
            .nav-container {
                padding: 12px 16px;
            }
            
            .nav-links {
                gap: 4px;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                padding: 4px 0;
            }
            
            .nav-links a {
                font-size: 0.85rem;
                padding: 6px 12px;
            }
        }

        /* Hero Section */
        .hero {
            max-width: 1280px;
            margin: 0 auto;
            padding: 80px 24px 40px;
            display: grid;
            grid-template-columns: 1fr 480px;
            gap: 60px;
            align-items: center;
        }
        
        @media (max-width: 980px) {
            .hero {
                grid-template-columns: 1fr;
                gap: 40px;
                padding: 40px 20px;
            }
            .hero-right { 
                order: -1;
            }
        }
        
        .subtitle {
            color: var(--primary);
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            font-size: 0.85rem;
            margin-bottom: 12px;
        }
        
        h1 {
            font-size: clamp(2rem, 5vw, 3.2rem);
            margin-bottom: 20px;
            line-height: 1.15;
            font-weight: 800;
            color: var(--maroon);
            letter-spacing: -0.02em;
        }
        
        .tagline {
            color: var(--text-light);
            max-width: 65ch;
            font-size: 1.1rem;
            line-height: 1.7;
            font-weight: 400;
        }
        
        .hero-right img {
            width: 100%;
            border-radius: 16px;
            box-shadow: 0 20px 60px var(--shadow);
        }

        /* Stats */
        .hero-stats {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 32px;
        }
        
        .stat-mini {
            background: var(--bg-subtle);
            padding: 20px 24px;
            border-radius: 12px;
            border: 1px solid var(--border);
            text-align: center;
            transition: all 0.3s ease;
            min-width: 140px;
        }
        
        .stat-mini:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px var(--shadow);
            border-color: var(--primary);
        }
        
        .stat-mini strong {
            display: block;
            color: var(--primary);
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 4px;
            font-variant-numeric: tabular-nums;
        }
        
        .stat-mini .text {
            color: var(--text-light);
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        /* Buttons */
        .fancy-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            border: 0;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .fancy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .fancy-btn:active {
            transform: translateY(0);
        }
        
        .fancy-primary {
            background: var(--primary);
            color: white;
        }
        
        .fancy-whatsapp {
            background: #25D366;
            color: white;
        }
        
        .fancy-ghost {
            background: white;
            border: 1px solid var(--border);
            color: var(--text);
        }

        .fancy-answer {
            background: #3b82f6;
            color: white;
        }

        .fancy-result {
            background: #f59e0b;
            color: white;
        }
        
        /* Quick Links Tiles */
        .quick-wrap {
            max-width: 1280px;
            margin: 60px auto;
            padding: 0 24px;
        }
        
        .quick-wrap h2 {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--maroon);
            margin-bottom: 24px;
            text-align: center;
            letter-spacing: -0.02em;
        }
        
        .quick-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
        }
        
        .tile {
            background: rgb(255, 178, 35);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 16px;
            border: 0px solid var(--border);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .tile:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px var(--shadow);
            border-color: var(--primary);
        }
        
        .tile .icon {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }
        
        .t-join { background: #25D366; }
        .t-answer { background: #3b82f6; }
        .t-guide { background: #8b5cf6; }
        .t-results { background: #f59e0b; }
        
        .tile .title {
            font-weight: 600;
            color: var(--text);
            font-size: 1rem;
        }
        
        .tile .sub {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-top: 2px;
        }

        @media (max-width: 768px) {
            .tile {
                padding: 16px;
                gap: 12px;
            }

            .tile .icon {
                width: 48px;
                height: 48px;
                font-size: 1.3rem;
            }

            .tile .title {
                font-size: 0.95rem;
            }

            .tile .sub {
                font-size: 0.8rem;
            }
        }
        
        /* Section Styling */
        .section-light {
            background: var(--bg-subtle);
            padding: 80px 24px;
        }
        
        .section-white {
            background: white;
            padding: 80px 24px;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
        }
        
        .section-title {
            text-align: center;
            font-size: 2rem;
            color: var(--maroon);
            margin-bottom: 16px;
            font-weight: 700;
            letter-spacing: -0.02em;
        }
        
        .section-subtitle {
            text-align: center;
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 48px;
            font-weight: 400;
        }
        
        /* Gift Banner */
        .gift-banner {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 40px 24px;
            text-align: center;
        }

        .gift-banner h3 {
            font-size: 1.8rem;
            margin-bottom: 16px;
            font-weight: 700;
        }

        .gift-banner p {
            font-size: 1.1rem;
            max-width: 1000px;
            margin: 0 auto;
            line-height: 1.8;
            opacity: 0.95;
        }

        /* Grids */
        .photo-grid, .gifts-grid, .syllabus-grid, .solution-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .photo-item, .gift-item, .solution-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .photo-item:hover, .gift-item:hover, .solution-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px var(--shadow);
        }

        .gift-item {
            padding: 32px 24px;
            text-align: center;
        }

        .gift-icon {
            font-size: 3rem;
            margin-bottom: 16px;
        }

        .gift-item h4 {
            color: var(--maroon);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .gift-item p {
            color: var(--text-light);
            font-size: 0.95rem;
        }

        /* Syllabus */
        .syllabus-item {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 24px;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
        }

        /* Solution Cards */
        .solution-card {
            padding: 32px 24px;
            text-align: center;
            border-top: 3px solid var(--primary);
        }

        .solution-number {
            width: 56px;
            height: 56px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-weight: 700;
            font-size: 1.5rem;
        }

        .solution-card h3 {
            color: var(--maroon);
            font-size: 1.4rem;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .solution-card p {
            color: var(--text-light);
            line-height: 1.6;
        }

        /* Videos */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 32px;
        }
        
        .video-item {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        
        .video-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px var(--shadow);
        }
        
        .video-item iframe {
            width: 100%;
            height: 240px;
            border: 0;
            display: block;
        }
        
        /* Modals */
        .modal-backdrop-custom {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, 0.5);
            backdrop-filter: blur(4px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1400;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-card {
            width: 100%;
            max-width: 520px;
            background: white;
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--border);
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-card h4 {
            color: var(--maroon);
            font-weight: 700;
            font-size: 1.3rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .close-x {
            background: transparent;
            border: 0;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-light);
            transition: all 0.2s ease;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-x:hover {
            color: var(--maroon);
            transform: rotate(90deg);
        }
        
        .form-control {
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid var(--border);
            font-family: 'Inter', sans-serif;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            width: 100%;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255,153,51,0.1);
            outline: none;
        }
        
        .form-label {
            color: var(--text);
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 8px;
            display: block;
        }
        
        /* Main Content */
        main {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        section {
            margin-bottom: 60px;
        }
        
        section h2 {
            font-size: 2rem;
            margin-bottom: 16px;
            margin-top: 40px;
            color: var(--maroon);
            font-weight: 700;
        }
        
        section h3 {
            font-size: 1.6rem;
            margin-bottom: 12px;
            color: var(--maroon);
            font-weight: 700;
        }
        
        .section-desc {
            color: var(--text-light);
            font-size: 1.05rem;
            line-height: 1.7;
            margin-bottom: 20px;
        }
        
        /* Footer */
        footer {
            margin-top: 60px;
            padding: 40px 24px;
            background: var(--maroon);
            color: white;
            text-align: center;
            border-top: 3px solid var(--primary);
        }
        
        footer a {
            color: rgba(255,255,255,0.9);
            transition: color 0.2s ease;
        }
        
        footer a:hover {
            color: var(--primary);
        }
        
        footer .footer-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        /* Floating Action Dock */
        .fixed-action-dock {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1350;
            display: flex;
            gap: 8px;
            padding: 10px 16px;
            background: white;
            border-radius: 999px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
            border: 1px solid var(--border);
        }

        .dock-btn {
            border: none;
            border-radius: 999px;
            padding: 8px 14px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            background: transparent;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .dock-btn i {
            font-size: 1rem;
        }

        .dock-btn:hover {
            background: var(--bg-subtle);
        }

        .dock-wa { color: #25D366; }
        .dock-result { color: #f59e0b; }

        @media (min-width: 992px) {
            .fixed-action-dock {
                display: none;
            }
        }

        /* WhatsApp Section */
        .whatsapp-section {
            padding: 80px 24px;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
        }

        .whatsapp-card {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
        }

        /* Results Section */
        .results-section {
            background: linear-gradient(135deg, var(--bg-subtle) 0%, #f1f5f9 100%);
            padding: 80px 24px;
        }

        .results-card {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 48px 40px;
            border-radius: 24px;
            box-shadow: 0 12px 48px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        
        .results-card:hover {
            box-shadow: 0 20px 60px rgba(0,0,0,0.12);
        }

        @media (max-width: 560px) {
            .hero { padding: 32px 16px; }
            h1 { font-size: 1.8rem; }
            .quick-grid { grid-template-columns: 1fr; }
            .video-item iframe { height: 200px; }
        }
        /* =====================================================
   MOBILE-FIRST POLISH (NO STRUCTURE CHANGES)
   ===================================================== */

/* ---------- Global Mobile Rhythm ---------- */
@media (max-width: 768px) {
  body {
    font-size: 15px;
  }

  section {
    margin-bottom: 40px;
  }

  .section-light,
  .section-white,
  .whatsapp-section,
  .results-section {
    padding: 48px 16px;
  }

  .section-title {
    font-size: 1.6rem;
  }

  .section-subtitle {
    font-size: 0.95rem;
    margin-bottom: 32px;
  }
  
  .results-card {
    padding: 32px 24px;
    border-radius: 16px;
  }
  
  .search-container {
    max-width: 100%;
  }
  
  .input-group-custom {
    padding: 6px;
  }
  
  .btn-search-icon {
    width: 44px;
    height: 44px;
  }
  
  .certificate-preview-box {
    padding: 24px 16px;
  }
  
  .certificate-preview-box i {
    font-size: 2rem !important;
  }
  
  #studentNameDisplay {
    font-size: 1.2rem !important;
  }
  
  #gradeDisplay {
    font-size: 1rem !important;
  }
}

/* ---------- Navbar: Mobile Clean Mode ---------- */
@media (max-width: 768px) {
  
  .nav-container {
    padding: 12px 14px;
  }

  .logo img {
    height: 36px;
  }

  .logo-title {
    font-size: 1rem;
  }

  .logo-sub {
    font-size: 0.7rem;
  }
}

/* ---------- Hero: Mobile-First ---------- */
@media (max-width: 768px) {
  .hero {
    padding: 28px 16px 24px;
    gap: 24px;
  }

  .hero-right {
    display: none;
  }

  .subtitle {
    font-size: 0.7rem;
    letter-spacing: 0.12em;
  }

  h1 {
    font-size: 1.85rem;
    line-height: 1.2;
    margin-bottom: 14px;
  }

  .tagline {
    font-size: 0.95rem;
    line-height: 1.6;
  }
}

/* ---------- Stats: Mobile Cards ---------- */
@media (max-width: 768px) {
  .hero-stats {
    gap: 12px;
    margin-top: 24px;
  }

  .stat-mini {
    padding: 14px;
    min-width: calc(50% - 6px);
  }

  .stat-mini strong {
    font-size: 1.6rem;
  }

  .stat-mini .text {
    font-size: 0.75rem;
  }
}

/* ---------- Buttons: Thumb Friendly ---------- */
@media (max-width: 768px) {
  .fancy-btn {
    width: 100%;
    justify-content: center;
    padding: 14px;
    font-size: 0.95rem;
  }

  .hero .fancy-btn + .fancy-btn {
    margin-top: 8px;
  }
}

/* ---------- Quick Tiles: App Style ---------- */
@media (max-width: 768px) {
  .quick-wrap {
    margin: 40px auto;
    padding: 0 16px;
  }

  .tile {
    padding: 14px;
    gap: 12px;
    border-radius: 10px;
  }

  .tile:active {
    transform: scale(0.98);
  }

  .tile .icon {
    width: 44px;
    height: 44px;
    font-size: 1.2rem;
  }

  .tile .title {
    font-size: 0.95rem;
  }

  .tile .sub {
    font-size: 0.75rem;
  }
}

/* ---------- Video Section ---------- */
@media (max-width: 768px) {
  .video-grid {
    gap: 16px;
  }

  .video-item iframe {
    height: 190px;
  }
}

/* ---------- Modals: Mobile Comfort ---------- */
@media (max-width: 768px) {
  .modal-card {
    padding: 20px;
    border-radius: 14px;
  }

  .modal-card h4 {
    font-size: 1.1rem;
  }

  .form-control {
    padding: 14px;
    font-size: 0.95rem;
  }
}

/* ---------- Floating Dock: Mobile UX ---------- */
@media (max-width: 420px) {
  .dock-btn {
    padding: 10px 12px;
    font-size: 0.8rem;
  }

  .dock-btn i {
    font-size: 0.9rem;
  }
}

/* =====================================================
   DESKTOP REFINEMENT (KEEP PREMIUM FEEL)
   ===================================================== */
@media (min-width: 992px) {
  .hero {
    padding: 96px 24px 64px;
  }

  h1 {
    font-size: 3.1rem;
  }

  .section-title {
    font-size: 2.2rem;
  }

  .tile:hover,
  .stat-mini:hover,
  .solution-card:hover {
    transform: translateY(-6px);
  }

  .fancy-btn {
    padding: 12px 22px;
  }
}
/* Desktop: full navbar */
@media (min-width: 769px) {
  .nav-bar {
    display: flex;
  }
}

@media (max-width: 768px) {
  .nav-bar {
    display: flex;
  }

  .nav-bar .tile {
    display: flex !important;
  }
}
@media (max-width: 768px) {
  .nav-bar {
    width: 100%;
    /* justify-content: space-between; */
  }

  .nav-links {
    display: none; /* keep navbar clean */
  }

  .nav-bar .tile {
    padding: 10px 12px;
    gap: 10px;
    border-radius: 10px;
    margin-left: 0;
    background-color: rgb(254, 180, 41);
    
  }

  .nav-bar .tile .icon {
    width: 40px;
    height: 40px;
    font-size: 1.1rem;
  }

  .nav-bar .tile .title {
    font-size: 0.85rem;
    font-weight: 600;
    white-space: nowrap;
  }
}
/* Contact Section Styling */
#contact .form-select-custom {
    background-color: var(--white);
    margin-bottom: 0;
}

#contact textarea.form-select-custom {
    border-radius: 12px;
}

@media (max-width: 991px) {
    #contact .hero-title {
        text-align: center;
    }
}

/* Contact Button Styling */
.btn-custom {
    display: inline-flex;
    align-items: center;
    padding: 12px 24px;
    border-radius: 12px;
    font-weight: 600;
    text-decoration: none !important;
    transition: all 0.3s ease;
}

.btn-wa {
    background: #25D366;
    color: white;
}

.btn-wa:hover {
    background: #20a150;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3);
}
/* Enhanced Certificate Section */
.results-card {
    background: #ffffff;
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 3rem 2rem;
    box-shadow: 0 10px 40px -10px var(--shadow);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.input-group-custom {
    position: relative;
    display: flex;
    background: var(--bg-subtle);
    padding: 8px;
    border-radius: 16px;
    border: 2px solid transparent;
    transition: all 0.3s ease;
}

.input-group-custom:focus-within {
    border-color: var(--primary-light);
    background: #fff;
    box-shadow: 0 0 0 4px rgba(255, 153, 51, 0.1);
}

.input-group-custom .form-control {
    background: transparent;
    border: none;
    font-size: 1.1rem;
    font-weight: 600;
    padding-left: 15px;
    letter-spacing: 1px;
}

.input-group-custom .form-control:focus {
    box-shadow: none;
}

.btn-search-icon {
    background: var(--primary);
    color: white;
    border: none;
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    cursor: pointer;
}

.btn-search-icon:hover {
    background: var(--maroon);
    transform: scale(1.05);
}

.btn-search-icon:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.alert-error {
    background: #fee;
    border: 1px solid #fcc;
    color: #c33;
    padding: 16px;
    border-radius: 12px;
    font-weight: 500;
    margin-bottom: 16px;
}

#resultDisplay {
    animation: slideUp 0.5s ease forwards;
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.certificate-preview-box {
    background: linear-gradient(135deg, rgba(255,153,51,0.05) 0%, rgba(255,153,51,0.02) 100%);
    border-radius: 16px;
    padding: 32px;
    border: 2px solid var(--primary-light);
    margin-top: 20px;
    text-align: center;
    transition: all 0.3s ease;
}

.certificate-preview-box:hover {
    box-shadow: 0 12px 40px rgba(255,153,51,0.15);
    transform: translateY(-4px);
}

.search-container {
    max-width: 480px;
    margin: 0 auto;
}

    </style>
</head>
<body>
    <nav aria-label="Top navigation">
        <div class="nav-container nav-menubar">
            <div class="logo">
                <img src="https://i.ibb.co/DfVR6KX8/iskcon-logo.png" alt="ISKCON logo">
                <div>
                    <div class="logo-title">ISKCON Values</div>
                    <div class="logo-sub">National VEC 2025-26</div>
                </div>
            </div>

            <div class="nav-bar" role="navigation">
                <div class="nav-links">
                    <a href="#quick">Quick Links</a>
                    <a href="#impact">Impact</a>
                    <a href="#videos">Videos</a>
                    <a href="#gifts">Gifts</a>
                </div>

                <div class="tile" onclick="CertificateSearch.scrollToSection()" style="cursor: pointer; margin-left: 12px;">
                    <!-- <div class="icon t-result">
                        <i class="fa-solid fa-award"></i>
                    </div> -->
                    <div>
                        <div class="title">Check Results</div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="hero-left">
            <div class="subtitle">A Pan-India Initiative</div>
            <h1>National Value Education Contest <span style="color:var(--primary)">2026</span></h1>
            <p class="tagline">Empowering students across India with timeless wisdom from the <strong>Bhagavad Gita</strong>. Join the largest contest for character building and ethical clarity.</p>
            
            <div class="hero-stats">
                <div class="stat-mini">
                    <strong><span class="count" data-target="1350000">0</span>+</strong>
                    <div class="text">Students Impacted</div>
                </div>
                <div class="stat-mini">
                    <strong><span class="count" data-target="4200">0</span>+</strong>
                    <div class="text">Schools</div>
                </div>
                <div class="stat-mini">
                    <strong><span class="count" data-target="14">0</span>+</strong>
                    <div class="text">Years Running</div>
                </div>
            </div>

            <div style="margin-top:32px;display:flex;flex-wrap:wrap;gap:12px">
                <button class="fancy-btn fancy-whatsapp" onclick="openActionModal('whatsapp')">
                    <i class="fa-brands fa-whatsapp"></i> Join District Group
                </button>
                <button class="fancy-btn fancy-result" onclick="CertificateSearch.scrollToSection()">
                    <i class="fa-solid fa-award"></i> Check Results
                </button>
            </div>
        </div>
        <div class="hero-right">
            <img src="/images/front page.png" alt="Students studying">
        </div>
    </section>

    <div class="quick-wrap" id="quick">
        <h2>Essential Links & Actions</h2>
        <div class="quick-grid">
            <div class="tile" onclick="openActionModal('whatsapp')">
                <div class="icon t-join"><i class="fa-brands fa-whatsapp"></i></div>
                <div>
                    <div class="title">Join WhatsApp Group</div>
                    <div class="sub">State & District Updates</div>
                </div>
            </div>
            <div class="tile" onclick="CertificateSearch.scrollToSection()">
                <div class="icon t-results"><i class="fa-solid fa-award"></i></div>
                <div>
                    <div class="title">Check Results</div>
                    <div class="sub">Certificate & Grades</div>
                </div>
            </div>
            <div class="tile" id="tile-guide">
                <div class="icon t-guide"><i class="fa-solid fa-book-open"></i></div>
                <div>
                    <div class="title">Study Guide</div>
                    <div class="sub">Syllabus & Instructions</div>
                </div>
            </div>
        </div>
    </div>

    <!-- WhatsApp Section -->
    <section id="whatsapp-section" class="whatsapp-section">
        <div class="container" style="text-align: center; color: white;">
            <h2 style="font-size: 2.2rem; margin-bottom: 16px; font-weight: 700;">Join Your District's WhatsApp Group</h2>
            <p style="font-size: 1.1rem; margin-bottom: 40px; opacity: 0.95;">Get updates, study materials, and connect with fellow participants</p>

            <div class="whatsapp-card">
                <h3 style="color: #128C7E; margin-bottom: 24px; font-size: 1.5rem; font-weight: 700;">Select Your State & District</h3>

                <div style="margin-bottom: 20px;">
                    <select id="wa_stateSelect" style="width: 100%; padding: 14px; font-size: 1rem; border: 1px solid var(--border); border-radius: 8px; margin-bottom: 16px;">
                        <option value="">-- Select State --</option>
                    </select>

                    <select id="wa_districtSelect" style="width: 100%; padding: 14px; font-size: 1rem; border: 1px solid var(--border); border-radius: 8px;">
                        <option value="">-- Select District --</option>
                    </select>
                </div>

                <a id="wa_openLink" class="fancy-btn fancy-whatsapp" style="width: 100%; justify-content: center; margin-top: 16px;">
                    <i class="fa-brands fa-whatsapp"></i> Open WhatsApp Group
                </a>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section id="results" class="results-section">
    <div class="container">
        <div class="results-card">
            <div class="search-container">
                <div class="mb-4">
                    <span class="badge rounded-pill mb-3" style="background: rgba(255,153,51,0.1); color: var(--primary); padding: 8px 16px; font-size: 0.75rem; font-weight: 700; letter-spacing: 0.1em;">VEC 2025-26 RESULTS</span>
                    <h2 style="color: var(--maroon); font-weight: 800; letter-spacing: -1px; margin-bottom: 12px; font-size: 2rem;">Claim Your Achievement</h2>
                    <p style="color: var(--text-light); font-size: 0.95rem;">Enter your unique exam code to generate your official PDF certificate.</p>
                </div>

                <div class="input-group-custom mb-3">
                    <input type="text" id="vecCodeInput" class="form-control" placeholder="EX: VE60DZ9304" style="text-transform: uppercase;">
                    <button id="searchCertificateBtn" class="btn-search-icon">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </div>

                <div id="errorDisplay" style="display: none;" class="alert-error">
                    <i class="fa-solid fa-circle-xmark me-2"></i> No student record found. Please verify the code.
                </div>

                <div id="resultDisplay" style="display: none;">
                    <div class="certificate-preview-box">
                        <i class="fa-solid fa-graduation-cap mb-3" style="font-size: 2.5rem; color: var(--primary);"></i>
                        <h4 id="studentNameDisplay" style="color: var(--maroon); font-weight: 800; margin-bottom: 8px; font-size: 1.4rem;"></h4>
                        <div id="gradeDisplay" class="mb-4" style="font-weight: 700; color: var(--accent); font-size: 1.1rem;"></div>
                        
                        <a id="downloadLink" href="#" target="_blank" class="fancy-btn fancy-primary" style="width: 100%; justify-content: center; padding: 14px 20px; border-radius: 12px; font-size: 1rem;">
                            <i class="fa-solid fa-file-arrow-down me-2"></i> Download Official Certificate
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


    <div class="gift-banner" id="gifts">
        <div class="gift-content">
            <h3>üéÅ Every Participant Receives</h3>
            <p>
                Complete Bhagavad Gita (All Languages) ‚Ä¢ VEC Booklet & Question Bank ‚Ä¢ Practice Answer Sheets ‚Ä¢ Calendar ‚Ä¢ Certificate e-signed by Former President Pranab Mukherjee ‚Ä¢ Flair Pens & Many More Gifts!
            </p>
        </div>
    </div>

    <main>
        <section id="about">
            <h2>About the Value Education Contest</h2>
            <p class="section-desc"><strong>ISKCON's "Values For All"</strong> is a nationwide initiative dedicated to instilling core ethical and moral values in young minds through the timeless teachings of the Bhagavad Gita. The VEC is an opportunity for students to not just compete, but to truly connect with profound spiritual wisdom and transform their lives.</p>
            <p class="section-desc">The contest is open for <strong>individual registrations</strong> across various states and cities in India, encouraging independent learning and personal growth.</p>
        </section>

        <!-- Photo Gallery -->
        <section class="section-light">
            <div class="container">
                <h2 class="section-title">VEC in Action</h2>
                <p class="section-subtitle">Moments from our award ceremonies and events across India</p>

                <div class="photo-grid">
                    <div class="photo-item">
                        <div style="padding:20px; text-align: center;">
                            <h4 style="color: var(--maroon); margin-bottom: 8px; font-weight: 600;">Award Ceremony</h4>
                            <p style="color: var(--text-light); font-size: 0.9rem;">Celebrating excellence</p>
                        </div>
                    </div>
                    <div class="photo-item">
                        <div style="padding:20px; text-align: center;">
                            <h4 style="color: var(--maroon); margin-bottom: 8px; font-weight: 600;">Student Winners</h4>
                            <p style="color: var(--text-light); font-size: 0.9rem;">Young achievers</p>
                        </div>
                    </div>
                    <div class="photo-item">
                        <div style="padding:20px; text-align: center;">
                            <h4 style="color: var(--maroon); margin-bottom: 8px; font-weight: 600;">Mass Participation</h4>
                            <p style="color: var(--text-light); font-size: 0.9rem;">Thousands learning together</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gifts & Prizes -->
        <section class="section-white">
            <div class="container">
                <h2 class="section-title">Gifts & Recognition</h2>
                <p class="section-subtitle">Every participant is a winner with valuable gifts and learning materials</p>

                <div class="gifts-grid">
                    <div class="gift-item">
                        <div class="gift-icon">üìñ</div>
                        <h4>Complete Bhagavad Gita</h4>
                        <p>Available in all languages</p>
                    </div>
                    <div class="gift-item">
                        <div class="gift-icon">üìö</div>
                        <h4>Study Material</h4>
                        <p>VEC Booklet & Question Bank</p>
                    </div>
                    <div class="gift-item">
                        <div class="gift-icon">üèÜ</div>
                        <h4>Certificate</h4>
                        <p>E-signed by Former President</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Core Values -->
        <section class="section-light">
            <div class="container">
                <h2 class="section-title">Core Values Covered</h2>
                <p class="section-subtitle">Essential virtues for character building and holistic development</p>
                <div class="syllabus-grid">
                    <div class="syllabus-item">Cleanliness</div>
                    <div class="syllabus-item">Forgiveness</div>
                    <div class="syllabus-item">Tolerance</div>
                    <div class="syllabus-item">Generosity</div>
                    <div class="syllabus-item">Concentration</div>
                    <div class="syllabus-item">Self-Confidence</div>
                </div>
            </div>
        </section>

        <!-- Solution Framework -->
        <section class="section-white">
            <div class="container">
                <h2 class="section-title">Our Solution Framework</h2>
                <p class="section-subtitle">How VEC builds character ‚Äî step by step</p>
                <div class="solution-grid">
                    <div class="solution-card">
                        <div class="solution-number">1</div>
                        <h3>Awareness</h3>
                        <p>Introduce values through stories, Gita lessons and activities</p>
                    </div>
                    <div class="solution-card">
                        <div class="solution-number">2</div>
                        <h3>Practice</h3>
                        <p>Practice through classroom activities and roleplay</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="videos">
            <h3>Video Gallery & Testimonials</h3>
            <p class="section-desc">A glimpse into the VEC experience, success stories, and testimonials from students, parents, and educators.</p>
            <div class="video-grid">
                <div class="video-item">
                    <iframe src="https://www.youtube-nocookie.com/embed/3uWc5Bl3Gj0" title="VEC Experience 1" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
                </div>
                <div class="video-item">
                    <iframe src="https://www.youtube-nocookie.com/embed/pwFhgRDQus0" title="VEC Experience 2" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal -->
    <div id="modalBackdrop" class="modal-backdrop-custom">
        <div class="modal-card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
                <h4>
                    <i id="modalTitleIcon" class="fa-brands fa-whatsapp"></i>
                    <span id="modalTitleText">Join WhatsApp Group</span>
                </h4>
                <button class="close-x" id="closeModal">&times;</button>
            </div>
            <p class="section-desc" id="modalDescription" style="margin-bottom: 24px; font-size: 0.95rem;">
                Select your state and district to join the official WhatsApp group for live updates and announcements.
            </p>
            <div style="display:flex;flex-direction:column;gap:16px">
                <div>
                    <label class="form-label">Select State</label>
                    <select id="modalStateSelect" class="form-control"></select>
                </div>
                <div>
                    <label class="form-label">Select District / City</label>
                    <select id="modalDistrictSelect" class="form-control"></select>
                </div>
                <button id="modalActionBtn" class="fancy-btn fancy-whatsapp" disabled style="width:100%;justify-content:center;padding:14px;margin-top:8px">
                    <i id="modalBtnIcon" class="fa-brands fa-whatsapp"></i>
                    <span id="modalBtnText">Open WhatsApp Group</span>
                </button>
            </div>
            <p id="modalHint" style="color:var(--text-light);font-size:0.85rem;margin-top:16px;text-align:center">
                ‚ö†Ô∏è Groups may be full during peak times. Try again later if full.
            </p>
        </div>
    </div>

    <!-- Floating Dock -->
    <div class="fixed-action-dock">
        <button class="dock-btn dock-wa" onclick="openActionModal('whatsapp')">
            <i class="fa-brands fa-whatsapp"></i>
            <span>WhatsApp</span>
        </button>
        <button class="dock-btn dock-result" onclick="CertificateSearch.scrollToSection()">
            <i class="fa-solid fa-award"></i>
            <span>Results</span>
        </button>
    </div>

  
<section class="py-5" style="background: var(--bg-subtle); border-top: 1px solid var(--border);">
    <div class="container text-center">
        <div class="p-4 rounded-4 bg-white shadow-sm border mx-auto" style="max-width: 500px;">
            <p class="text-muted fw-bold mb-2 small text-uppercase" style="letter-spacing: 1px;">Any Queries?</p>
            <h2 class="fw-800 mb-4" style="color: var(--maroon);">Kindly Contact Us</h2>
            
            <a href="tel:+918888022900" class="btn-custom btn-wa px-5 py-3 shadow-sm text-decoration-none">
                <i class="fa-solid fa-phone-volume me-2"></i>
                <span>+91 8888022900</span>
            </a>
            
            <p class="mt-3 mb-0 text-muted small">Available Monday to Sunday (10 AM - 8 PM)</p>
        </div>
    </div>
</section>
    <footer>
        <div class="footer-content">
            <div class="footer-title">ISKCON Values ‚Äî National VEC 2025-26</div>
            <p>Connecting students with timeless wisdom from the Bhagavad Gita.</p>
            <p style="opacity:0.85;margin-top:8px;">&copy; <span id="year"></span> ISKCON Values</p>
        </div>
    </footer>

 
    <script>
        // ====================================
        // SUPABASE CONFIGURATION
        // ====================================
        const SUPABASE_CONFIG = {
            url: 'https://qnvhtrfdwihmyjerujqa.supabase.co',
            key: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFudmh0cmZkd2lobXlqZXJ1anFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyNTY4MjcsImV4cCI6MjA4NTgzMjgyN30.9OQZ1Qcyttry8EazLV7XR88NFBLSKST9qBKp_SBiLPA'
        };
        
        const supabaseClient = supabase.createClient(SUPABASE_CONFIG.url, SUPABASE_CONFIG.key);

        // ====================================
        // UTILITIES
        // ====================================
        const Utils = {
            escapeHtml(text) {
                const map = {
                    '&': '&amp;',
                    '<': '&lt;',
                    '>': '&gt;',
                    '"': '&quot;',
                    "'": '&#039;'
                };
                return String(text).replace(/[&<>"']/g, m => map[m]);
            },
            
            parseCSV(text) {
                const lines = text.trim().split('\n');
                const headers = lines.shift().split(',').map(h => h.trim());
                return lines.map(line => {
                    const values = line.split(',').map(v => v.trim());
                    const obj = {};
                    headers.forEach((h, i) => obj[h] = values[i] || '');
                    return obj;
                });
            },
            
            animateCounter(element, target, duration = 2000) {
                const start = performance.now();
                const easeOutCubic = t => 1 - Math.pow(1 - t, 3);
                
                const step = (now) => {
                    const progress = Math.min((now - start) / duration, 1);
                    const value = Math.floor(easeOutCubic(progress) * target);
                    element.textContent = value.toLocaleString();
                    
                    if (progress < 1) {
                        requestAnimationFrame(step);
                    } else {
                        element.textContent = target.toLocaleString();
                    }
                };
                
                requestAnimationFrame(step);
            }
        };

        // ====================================
        // CERTIFICATE SEARCH MODULE
        // ====================================
        const CertificateSearch = {
            elements: {
                input: null,
                searchBtn: null,
                errorDisplay: null,
                resultDisplay: null,
                studentNameDisplay: null,
                gradeDisplay: null,
                downloadLink: null
            },
            
            init() {
                this.elements = {
                    input: document.getElementById('vecCodeInput'),
                    searchBtn: document.getElementById('searchCertificateBtn'),
                    errorDisplay: document.getElementById('errorDisplay'),
                    resultDisplay: document.getElementById('resultDisplay'),
                    studentNameDisplay: document.getElementById('studentNameDisplay'),
                    gradeDisplay: document.getElementById('gradeDisplay'),
                    downloadLink: document.getElementById('downloadLink')
                };
                
                if (!this.elements.searchBtn) {
                    console.error('Search button not found');
                    return;
                }
                
                this.elements.searchBtn.addEventListener('click', () => this.search());
                this.elements.input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.search();
                });
                this.elements.input.addEventListener('input', (e) => {
                    e.target.value = e.target.value.toUpperCase();
                });
            },
            
            async search() {
                const code = this.elements.input.value.trim();
                
                if (!code) {
                    this.showError('Please enter your exam code');
                    return;
                }
                
                this.setLoading(true);
                this.hideMessages();
                
                try {
                    const { data, error } = await supabaseClient
                        .from('students')
                        .select('"Name of Student", "Result Grades", "Link of Certificate"')
                        .eq('VEC Exam Code', code)
                        .single();
                    
                    if (error || !data) {
                        this.showError('No student record found. Please verify the code.');
                    } else {
                        this.showResult(data);
                    }
                } catch (err) {
                    console.error('Search error:', err);
                    this.showError('An error occurred. Please try again.');
                } finally {
                    this.setLoading(false);
                }
            },
            
            showResult(data) {
                this.elements.studentNameDisplay.textContent = data["Name of Student"];
                this.elements.gradeDisplay.textContent = `Secured: ${data["Result Grades"]}`;
                
                if (data["Link of Certificate"]) {
                    this.elements.downloadLink.href = data["Link of Certificate"];
                    this.elements.downloadLink.style.display = 'inline-flex';
                } else {
                    this.elements.downloadLink.style.display = 'none';
                }
                
                this.elements.resultDisplay.style.display = 'block';
                this.elements.errorDisplay.style.display = 'none';
            },
            
            showError(message) {
                this.elements.errorDisplay.style.display = 'block';
                this.elements.resultDisplay.style.display = 'none';
            },
            
            hideMessages() {
                this.elements.errorDisplay.style.display = 'none';
                this.elements.resultDisplay.style.display = 'none';
            },
            
            setLoading(isLoading) {
                if (!this.elements.searchBtn) return;
                this.elements.searchBtn.disabled = isLoading;
                this.elements.searchBtn.innerHTML = isLoading 
                    ? '<i class="fa-solid fa-spinner fa-spin"></i>'
                    : '<i class="fa-solid fa-magnifying-glass"></i>';
            },
            
            scrollToSection() {
                document.getElementById('results').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'center'
                });
            }
        };

        // ====================================
        // DATA MANAGER
        // ====================================
        const DataManager = {
            data: {},
            
            async loadData() {
                const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS25FQotsgdlN-k6xCO-gczCkMluhjMl59EC7rGVhaOGCM1WF4tC21KVXB7kxmneUVXTGWdrAlc1Hlh/pub?output=csv';
                
                try {
                    const response = await fetch(csvUrl + '&t=' + Date.now(), { cache: 'no-store' });
                    const text = await response.text();
                    const rows = Utils.parseCSV(text);
                    
                    this.data = rows.reduce((acc, row) => {
                        const state = row.state?.trim();
                        const district = row.district?.trim();
                        
                        if (!state || !district) return acc;
                        
                        if (!acc[state]) acc[state] = {};
                        acc[state][district] = {
                            whatsapp: row.whatsapp_link || '',
                            answer: row.omr_link || '',
                            result: row.result_link || ''
                        };
                        
                        return acc;
                    }, {});
                    
                } catch (error) {
                    console.error('Data load error:', error);
                }
            },
            
            getStates() {
                return Object.keys(this.data).sort();
            },
            
            getDistricts(state) {
                return this.data[state] ? Object.keys(this.data[state]).sort() : [];
            },
            
            getLink(state, district, type) {
                return this.data[state]?.[district]?.[type] || '';
            }
        };

        // ====================================
        // MODAL MODULE
        // ====================================
        const AppModal = {
            currentAction: 'whatsapp',
            
            config: {
                whatsapp: {
                    title: 'Join WhatsApp Group',
                    description: 'Select your state and district to join the official WhatsApp group for live updates and announcements.',
                    btnText: 'Open WhatsApp Group',
                    iconClass: 'fa-brands fa-whatsapp',
                    btnClass: 'btn-whatsapp',
                    hint: '‚ö†Ô∏è Groups may be full during peak times. Try again later if full.'
                },
                result: {
                    title: 'Check Contest Results',
                    description: 'Select your state and district to check results and download certificates (if available).',
                    btnText: 'Open Results Page',
                    iconClass: 'fa-solid fa-award',
                    btnClass: 'btn-amber',
                    hint: 'üèÜ Results links will be enabled as they are published by each state.'
                }
            },
            
            elements: {
                backdrop: null,
                title: null,
                icon: null,
                description: null,
                stateSelect: null,
                districtSelect: null,
                actionBtn: null,
                btnIcon: null,
                btnText: null,
                hint: null
            },
            
            init() {
                this.elements = {
                    backdrop: document.getElementById('modalBackdrop'),
                    title: document.getElementById('modalTitle'),
                    icon: document.getElementById('modalIcon'),
                    description: document.getElementById('modalDescription'),
                    stateSelect: document.getElementById('modalStateSelect'),
                    districtSelect: document.getElementById('modalDistrictSelect'),
                    actionBtn: document.getElementById('modalActionBtn'),
                    btnIcon: document.getElementById('modalBtnIcon'),
                    btnText: document.getElementById('modalBtnText'),
                    hint: document.getElementById('modalHint')
                };
                
                this.populateStates();
                this.attachEventListeners();
            },
            
            attachEventListeners() {
                this.elements.stateSelect.addEventListener('change', () => this.handleStateChange());
                this.elements.districtSelect.addEventListener('change', () => this.handleDistrictChange());
                this.elements.actionBtn.addEventListener('click', () => this.handleAction());
                this.elements.backdrop.addEventListener('click', (e) => {
                    if (e.target === this.elements.backdrop) this.close();
                });
                
                // Close button
                const closeBtn = document.getElementById('closeModal');
                if (closeBtn) {
                    closeBtn.addEventListener('click', () => this.close());
                }
            },
            
            populateStates() {
                const states = DataManager.getStates();
                this.elements.stateSelect.innerHTML = '<option value="">-- Select State --</option>' + 
                    states.map(state => `<option value="${Utils.escapeHtml(state)}">${Utils.escapeHtml(state)}</option>`).join('');
            },
            
            handleStateChange() {
                const state = this.elements.stateSelect.value;
                const districts = DataManager.getDistricts(state);
                
                this.elements.districtSelect.innerHTML = '<option value="">-- Select District --</option>' + 
                    districts.map(district => `<option value="${Utils.escapeHtml(district)}">${Utils.escapeHtml(district)}</option>`).join('');
                
                this.updateActionButton();
            },
            
            handleDistrictChange() {
                this.updateActionButton();
            },
            
            updateActionButton() {
                const state = this.elements.stateSelect.value;
                const district = this.elements.districtSelect.value;
                const link = DataManager.getLink(state, district, this.currentAction);
                
                this.elements.actionBtn.disabled = !link;
                this.elements.actionBtn.dataset.link = link;
            },
            
            handleAction() {
                const link = this.elements.actionBtn.dataset.link;
                if (link) {
                    window.open(link, '_blank');
                }
            },
            
            open(action = 'whatsapp') {
                this.currentAction = action;
                const cfg = this.config[action];
                
                if (this.elements.title) this.elements.title.textContent = cfg.title;
                
                const titleSpan = document.getElementById('modalTitleText');
                if (titleSpan) titleSpan.textContent = cfg.title;
                
                const icon = document.getElementById('modalTitleIcon');
                if (icon) icon.className = cfg.iconClass;
                
                if (this.elements.description) this.elements.description.textContent = cfg.description;
                if (this.elements.btnIcon) this.elements.btnIcon.className = cfg.iconClass;
                if (this.elements.btnText) this.elements.btnText.textContent = cfg.btnText;
                if (this.elements.hint) this.elements.hint.textContent = cfg.hint;
                
                this.elements.stateSelect.value = '';
                this.elements.districtSelect.innerHTML = '<option value="">-- Select District --</option>';
                this.elements.actionBtn.disabled = true;
                
                this.elements.backdrop.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            },
            
            close() {
                this.elements.backdrop.style.display = 'none';
                document.body.style.overflow = '';
            }
        };

        // ====================================
        // STATS ANIMATION
        // ====================================
        const StatsAnimation = {
            init() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const element = entry.target;
                            const target = parseInt(element.dataset.target);
                            if (!isNaN(target)) {
                                Utils.animateCounter(element, target);
                                observer.unobserve(element);
                            }
                        }
                    });
                }, { threshold: 0.5 });
                
                document.querySelectorAll('.count[data-target]').forEach(el => {
                    observer.observe(el);
                });
            }
        };

        // ====================================
        // GLOBAL ACTION HANDLER
        // ====================================
        function openActionModal(action) {
            AppModal.open(action);
        }

        // ====================================
        // APP INITIALIZATION
        // ====================================
        document.addEventListener('DOMContentLoaded', async () => {
            // Set footer year
            const yearEl = document.getElementById('year');
            if (yearEl) {
                yearEl.textContent = new Date().getFullYear();
            }
            
            // Initialize modules
            await DataManager.loadData();
            AppModal.init();
            CertificateSearch.init();
            StatsAnimation.init();
            
            console.log('‚úÖ Application initialized successfully');
        });
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCGKLZC8M"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-TFCGKLZC8M');
    </script>
</body>
</html>



